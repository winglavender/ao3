<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AO3 History Downloader</title>
    <link rel="stylesheet" type="text/css" href="static/style.css">
    
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work',     11],
          ['Eat',      2],
          ['Commute',  2],
          ['Watch TV', 2],
          ['Sleep',    7]
        ]);

        var options = {
          title: 'My Daily Activities'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
      
    </script>
  </head>
  <body>

    <h1>
      AO3 {{data.year}} Reading Year in Review 
    </h1>

    <table>
      <tr>
        <th>Overall Reading Stats</th>
      </tr>
      <tr>
        <td>Words</td>
        <td>{{data.total_words}}</td>
      </tr>
      <tr>
        <td>Works</td>
        <td>{{data.total_fics}}</td>
      </tr>
      <tr>
        <td>Relationships</td>
        <td>{{data.total_relationships}}</td>
      </tr>
      <tr>
        <td>Fandoms</td>
        <td>{{data.total_fandoms}}</td>
      </tr>
    </table>
    
        <div id="piechart" style="width: 900px; height: 500px;"></div>

    <p>
    You can also download a spreadsheet containing all your data from this year.
    </p>
    
    <p>
      <a href="/download">Download File</a>
    </p>
    
    <p>
      <a href="{{ url_for('home') }}">Return to main page</a>
    </p>
  </body>
</html>
